\section{Aplicação Desenvolvida}
Para a primeira entrega do aplicativo, foram desenvolvidos os seguintes requisitos:
\begin{itemize}
    \item Eu, como motorista, gostaria de me cadastrar no sistema para ter acesso ao login;
    \item Eu, como motorista, gostaria de logar no sistema para utilizar as funcionalidades do mesmo;
    \item Eu, como motorista, gostaria de ver os postos dentro de uma rota para facilitar a minha escolha de posto.
\end{itemize}
No Anexo \ref{chap:telas} encontram-se algumas telas da aplicação desenvolvida.

\subsection{Método de decisão de postos boicotados}
Toda semana, serão selecionados postos onde os usuários serão incentivados a não abastecer. Para decidir quais postos serão boicotados, o Guimifiu tem duas estratégias principais: a \textbf{Lista Comum} e o \textbf{Boicote por Bandeiras}. A lista comum escolhe os postos com pior qualidade geral e que não tenham sido boicotados recentemente e cria uma lista inicial. A qualidade geral de um posto é determinada pela média ponderada de estrelas do posto e pelo preço dos combustíveis considerando o preço de todos os postos. O preço tem peso 2 e a quantidade de estrelas tem peso 1. A lista inicial é montada e depois é verificado se não existem muitos postos perto demais sendo boicotados para não deixar o usuário com poucas opções de locais para abastecimento.

Essa verificação é feita através de grafos. Os nós dos grafos são os postos de combustíveis e as arestas são as distâncias entre os todos postos que não sejam maiores que 10 quilômetros. Com este grafo, em cada nó da lista inicial é verificado se os nós adjacentes são todos postos que estão na lista inicial. Em caso positivo, o nó é removido da lista, caso contrário o nó é mantido. Os nós restantes compõem a lista final de postos boicotados, denominada \textbf{Lista Comum}.

IMAGEM

IMAGEM

O \textit{Boicote por Bandeiras} escolhe uma bandeira e todos os postos dessa bandeira são colocados na lista de boicotados, independentemente da distância entre eles, colocando o prejuízo do boicote menos nos postos e mais na bandeira. Os dois tipos de boicote são exclusivos, ou seja, os dois não ocorrem no mesmo período. A estratégia de boicote é escolhida pela equipe de desenvolvimento.  

\subsection{Testes Automatizados}

Foram feitos testes de integração e unitários para garantir o funcionamento dos métodos do código fonte e da integração da aplicação \textit{mobile} com a API.

Foi encontrada uma certa dificuldade pra realizar os testes unitários no Ionic, uma vez que não há muitos exemplos que de fato funcionam e uma documentação do próprio \textit{framework} sobre o assunto.

O código de testes pode ser encontrado no repositório da aplicação no GitHub (https://github.com/Guimifiu/guimifiu-app). Um exemplo de teste unitário e um de teste de integração está disponível no Anexo \ref{chap:testes}.

\subsection{Métricas de Código fonte}

Como citado no \autoref{chap:met}, foram utilizadas as ferramentas CodeClimate e Rubocop. Além de medir a complexidade no Rubocop, foi feita na integração contínua um relatório de métricas pela ferramenta que impede que a \textit{build} passe caso a complexidade seja maior do que 6, que é o padrão de complexidade ciclomática máxima aceitável.

No Anexo \ref{chap:metricas} encontram-se os resultados da coleta de métricas do sistema.

\subsection{Integração e Entrega Contínua}
\input{editaveis/resultados/integracao-e-deploy-continuo}

